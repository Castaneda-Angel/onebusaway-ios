targets:
  OBAKit:
    type: framework
    platform: iOS
    sources: ["."]
    dependencies:
      - target: OBAKitCore
      - package: BLTNBoard
      - carthage: IGListKit
      - carthage: IGListDiffKit
      - package: Hyperconnectivity
      - package: Eureka
      - package: FloatingPanel
      - package: MarqueeLabel
    postBuildScripts:
      - path: "../scripts/swiftlint.sh"
        name: Swiftlint
    scheme:
      gatherCoverageData: true
    info:
      path: "Info.plist"
      properties:
        CFBundleShortVersionString: 20.3.0
    settings:
      base:
        APPLICATION_EXTENSION_API_ONLY: false
      configs:
          Debug:
            LD_RUNPATH_SEARCH_PATHS:
              - "$(inherited)"
              - "@executable_path/Frameworks"
              - "$(PROJECT_DIR)/Carthage/Build/iOS"     # Fix for missing framework in Xcode Previews
          Release:
            LD_RUNPATH_SEARCH_PATHS:
              - "$(inherited)"
              - "@executable_path/Frameworks"
